<div *ngIf="!showSummary">
<form novalidate [formGroup]="questionsForm" (ngSubmit)="saveForm(questionsForm.value)">
    <div *ngFor="let question of questions">
        <div class="form-group" [ngSwitch]="question.type">
            <label>{{question.text}}<span *ngIf="question.required"> *</span></label>
            <div *ngSwitchCase="'TEXT'">
                <input type="text" class="form-control" [formControlName]="question.id"/>
            </div>
            <div *ngSwitchCase="'LONGTEXT'">
                <textarea class="form-control" [formControlName]="question.id"></textarea>
            </div>
            <div *ngSwitchCase="'CHOICE'">
                <select class="form-control" [formControlName]="question.id">
                    <option> --- Bitte wählen --- </option>
                    <option *ngFor="let choice of question.choices">{{choice}}</option>
                </select>
            </div>
            <div *ngSwitchCase="'BUTTONCHOOSE'">
                <ef-button-chooser [formControlName]="question.id" [choices]="question.choices"></ef-button-chooser>
            </div>
            <ef-show-error text="Dies" [path]="question.id"></ef-show-error>
        </div>
    </div>
    <button type="submit" class="btn btn-default" [disabled]="!questionsForm.valid">
        Antworten absenden
    </button>
</form>
</div>
<div *ngIf="showSummary">
    <p class="bg-success">
        Vielen Dank für die Beantworung unseres Fragebogens.
        Hier ist noch mal eine Zusammenfassung Ihrer Antworten:
    </p>
    <div *ngFor="let answer of answerSummary" class="answer">
        <label>{{answer.text}}</label><br/>
        <span>{{answer.answer}}</span>
    </div>
    <button class="btn, btn-default" (click)="backToForm()">
        Zurück zur Eingabe
    </button>
</div>